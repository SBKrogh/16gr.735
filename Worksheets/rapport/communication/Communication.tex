\chapter{Communication}\label{cha:communication}

As stated in the introduction, the force feedback loop should at least have a frequency of 550 Hz. This loop not only includes the communication between the Geomagic Touch and the computer but also the communication between the sbRIO and the computer and the computation time required for force estimation. In the current setup, the bottleneck is the communicating between the sbRIO and the computer as it can not exceed 100 Hz. As the drivers communication with the Geomagic Touch have a refresh rate of 1000 Hz and the computation time should be small compared to the refresh rate, the frequency of the communication with the embedded system should be at least 1200 Hz. However, from experimentation it was found out that the built-in library for UDP on the sbRIO cannot handle a frequency higher than 1000 Hz. If this maximum frequency is reached, the feedback loop will have a refresh rate of 500 Hz, see \figref{fig:speed_graph}, which is still deemed acceptable according to \cite{coles2011role}.  This chapter focuses on improving this communication to reach 1000 Hz.

\begin{figure}[H]
	\centering
	\input{rapport/Improvement/speed_graph}
	\caption{Communication loops inside the feedback loop}
	\label{fig:speed_graph}
\end{figure}

\input{rapport/communication/Com_ROS_Rio.tex}

\input{rapport/communication/ROS.tex}

\input{rapport/communication/sbRIO.tex}

\input{rapport/Improvement/Improvement}

\input{rapport/Software/software_architecture}

\section{Measurements}

\input{Data/Measurement/Tcp_Measurement.tex}

\input{Data/Measurement/UDP_Mes.tex}