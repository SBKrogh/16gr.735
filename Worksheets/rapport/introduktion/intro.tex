%\documentclass{article}

%\begin{document}
	
\chapter{Introduction}

The last decades were characterized by rapidly developing information technology and electronics. It is considered to be a third industrial revolution by historians. Today, we're on the brink of a fourth industrial revolution, which blurs the line between physical and computer systems. One of the great beneficiary of this recent development was the health industry. The present project aims to analyze and improve one of the products of the fusion between control engineering and health industry, a minimally invasive surgical robot (MISR).The specimen being analyzed is a da Vinci robot manufactured by Intuitive Surgical.

The da Vinci robot is controlled by a specially trained surgeon. The robot extends the capabilities of the surgeon. It assists in performing minimally invasive surgeries (MIS) and minimizing the insertion cut inflicted on the patient.
%i.e. it sets the surgical tools in the patient's body using thin tubes, thus minimizing the required cut inflicted. 
This results in faster recovery time for the patient\cite{rec_time}. The surgical tools are teleoperated by the surgeon using a control station equipped with spatial controllers and 3D video feed from the tools. The operator's movements can be scaled down, thus improving the surgery's precision. A further advantage of the da Vinci robot is the possibility of remote control. The surgeon can be hundreds of kilometers away from the robot, still able to control it through the internet. This characteristic can prove to be quite useful in rural areas, where medical care is limited. Whenever an operation needs to be executed, a specialist from the specific field can sign into the robot and conduct a surgery. The technology can even be adjusted for military purposes. If an injured soldier needs treatment in a highly dangerous zone, the medic can send the robot to the soldier and conduct the required surgery, without risking their life.

With all these advantages there comes a significant drawback compared to classical direct surgery. The controller the surgeon is operating lacks force feedback feature\cite{lack_fb}. The operator has to solely rely on what is seen on the 3D video feed. This means losing kinesthetic sense during operation, which sets back the accuracy of the surgeon and can lead to surgical accidents. Studies show that an added force feedback feature increases the success rate of robotic surgeries\cite{lack_fb}.

This project aims to implement the high demand feature of force feedback. The original da Vinci robot's controller station lacks any actuators, which means that the force feedback feature can not be implemented in it, thus another controller has to be used. This project utilizes a Geomagic Touch (GT) haptic device as the controller. Haptic controllers simulate the sense of touch, such as friction and kinesthetics using actuators.
The GT is a spatial haptic controller with 6 degrees of freedom (DOF), out of which the 3 translational DOFs are equipped with actuators\cite{gt_spec}. The GT can only provide force feedback to the actuated DOFs.

The complete da Vinci robot has 6-7 actuated DOFs during operation. The arm provides 3 translational degrees of freedom, while the surgical tools used as end-manipulator have 3 to 4 rotational DOFs, depending on the tool. The project aims at controlling a 4 DOF tool called EndoWrist. Since the tool has one more DOF than the GT has actuated DOF, direct mapping can not be implemented. The GT needs to control the 4 rotational DOFs utilizing its 3 actuated translational DOF. Haptic devices needs to have a refresh rate around 600 Hz in order to give the consumer the sense of touch\cite{coles2011role}.% otherwise the delay and granularity (???) becomes too much of an issue.

In order to provide the sensation of directly controlling the EndoWrist, the GT needs to output the force affecting the EndoWrist to the surgeon. The main issue is that this force can not be directly measured. The EndoWrist, being a surgical tool, needs to satisfy healthcare regulations. The EndoWrist has to be discarded after a number of uses. Furthermore, the regulations state that each surgical tool needs to undergo a sterilization process between operations, where the tool is treated with high temperature detergents. This two regulation makes it economically worthwhile to implement expensive, high temperature tolerant force sensors on the end-manipulator, just to be discarded after 10 uses. A different approach needs to be sought.

The current applied to the motors for actuating the end-manipulator is known. The current is highly correlated with the force affecting the end-effector. By having a model of the EndoWrist and motor dynamics, the output force can be estimated. Hence this projects aims at experimentally deriving the dynamical model of the motor-end-effector system.

The system setup used is a stripped version of the da Vinci robot. It includes the end effector of the robot which is controlled by a distributed system imitating the da Vinci robots control architecture, where the GT controller and the end-effector has several layers between them. The embedded system actuating the robot communicates through an ethernet cable with the computer running connected to the GT device. This computer also runs the high computation demanding tasks.

The communication through the ethernet cable is implemented using internet protocol (IP), which means distance scalability for the setup. The controller can be kilometers away from the end-manipulator, still able to control it by communicating through the internet. The main issue arising from high distance control is the added delay time, which can eventually lead to unstable behavior in the system. The test setup was tested using internet protocol with direct ethernet connection, making these delays less of an issue.

The project is based on a previous research that implemented TCP/IP as means of ethernet communication. This setup could only reach 100 Hz in communication frequency, which does not satisfy the refresh rate demand of the haptic device\cite{Chris_Surgical}\cite{coles2011role}. Therefore this project aims at increasing the connection speed, making the system more transparent, i.e. providing the user with the sensation of directly controlling the EndoWrist.

The two endpoints of the system setup, the GT and the EndoWrist, are both actuated. The embedded system controlling the EndoWrist receives position setpoints from the GT and tracks it with the built in position controller.
The Geomagic Touch device receives force estimates based on the currents flowing through the EndoWrist's motors. This force is propagated to the GT device held by the operator. The operator, as part of the control system, decides the setpoints for the Endowrist using the force output of the GT. %However, the operator can not perfectly enforce his/her will, as the human is also a subject of the law of physics, and has a certain arm stiffness and reaction time.

%If the force is directly propagated to the GT based on the current measurements, instability problems can arise, e.g. the EndoWrist hits a solid object, the current increases suddenly, the GT outputs a sudden force, to which the human is unable to react instantly. The human's arm and thus the EndoWrist is moved to the opposite direction from his/her intentions. The output current on the EndoWrist drops before the human can react. The human outputs a force trying to counteract the surge with a delay, but at this moment the surge is already gone, thus the human overreacts the force, making the EndoWris hit the surface again. This behavior can lead to ever-growing vibrations in some cases, thus should be avoided. One of the main challenges arising in the force feeback control is to stabilize the system.


%\end{document}