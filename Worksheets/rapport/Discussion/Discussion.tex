\chapter{Results and Discussion}\label{cha:discussion}

% \todo{we managed to get a closed loop, to increase speed and to estimate the force. 

% But measurements were shitty because no equipments.
% Model has oscillations because it feedback small forces.
% Friction model improves that from the simulation we made and should be even better when used.
% +Philipe 

% Communication does not reach the aimed refresh rate so force feedback doesn't either.
% Compression should help if it is fast.
% Code should be optimizing by using lower level libraries for communication on linux.
% Safety should be considered more than what we did.
% Consider implementing a real time system like RTAI.

% }

\section{Results}


\todo{The results about communication were already stated in Communication, should they be moved?}

An operator control uses the Geomagic Touch to clamp on a finger. As no equipment is available for measuring the force applied by the end-effector, the estimate force is compared to the error in position and the current applied to the actuator. The experiment is made for the maximum frequency reached of 638 Hz in \figref{fig:fbkm} and for the original frequency of 100 Hz in \figref{fig:fbkm_100}.


\begin{figure}[H]
  \input{../Worksheets/rapport/pictures/feedback_measurements_copy_worksheets}
  \caption{Clamping of a finger with a refresh rate of 638 Hz for the communication}
  \label{fig:fbkm}
\end{figure}

\begin{figure}[H]
  \input{../Worksheets/rapport/pictures/clamp_feedback_more_mvt}
  \caption{Clamping of a finger with a refresh rate of 100 Hz for the communication and a varying command}
  \label{fig:fbkm_100}
\end{figure}

Similarly to the experiment described for the gripping force, the operator uses the Geomagic Touch to control the roll and the mouvement of the hand effector are hindered by synthetic skin.
\begin{figure}[H]
  \input{../Worksheets/rapport/pictures/roll_feedback_measurement}
  \caption{Response of the force feedback for the roll for varying command with a refresh rate of 100 Hz for the communication}
  \label{fig:fbkm_roll_100}
\end{figure}


\todo{add pitch is unstable / shitty}


\section{Discussion}


\todo{discussion about other stuff}


Although the refresh rate of the communication does not allow to reach the goal of 550 Hz for the feedback loop, a significant improvement can be noted.  To further increase the refresh rate three axis are considered: compressing data, optimizing the programs and implementing on a real-time system.\\
Compression of exchanged data was evoked in \secref{subsec:minimizing}. It is believed that the implementation of a fast compression algorithm would improve the refresh rate in a communication between two computers. However additional precautions must be taken when implementing one the embedded system as the computation power is not as high as it is for a computer. The computation time required to compress the small amount of data sent should be compared to the transmission time of said data.\\
From \cite{million_packets} it is possible to receive a million packets per second on a Linux system. Although such a high frequency cannot be reached when other tasks have to be performed on the computer, it should be possible to increase the frequency by optimizing the programs used for the project. Using low level libraries for communication would be the first step to improve the communication. In addition, the program currently runs many thread to communicate with external devices and between internal processes. These threads are not synchronized or prioritized, thus a new software architecture could reduce the load on the processing unit and ensure all threads can be properly executed.\\
The last axis considered is an extension of the previous suggestion to create a new software architecture to increase control over the different thread. It is believed that implementing the force feedback on a real-time system such as Real Time Application Interface (RTAI). By using a real-time system, better control over the priority of each process can be achieved and thus less computation power can be allowed to processes non-essential for the force feedback such as the graphical interface.\\
Another aspect that should be considered for future works is the safety in the communication. Currently only a simple detection of connexion timeout has been implemented. In future application, security against cyber-attacks should be considered as the system could be extended to remote teleoperation.
